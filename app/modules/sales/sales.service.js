'use strict';const _0x4db1ea=_0x36f9;(function(_0x21c160,_0x581e48){const _0xc49663=_0x36f9,_0x166f8e=_0x21c160();while(!![]){try{const _0x379adf=parseInt(_0xc49663(0x196))/0x1*(parseInt(_0xc49663(0x1b3))/0x2)+-parseInt(_0xc49663(0x1d0))/0x3+-parseInt(_0xc49663(0x189))/0x4+parseInt(_0xc49663(0x1c6))/0x5+parseInt(_0xc49663(0x172))/0x6*(parseInt(_0xc49663(0x1a8))/0x7)+parseInt(_0xc49663(0x1cf))/0x8*(parseInt(_0xc49663(0x1d5))/0x9)+-parseInt(_0xc49663(0x199))/0xa;if(_0x379adf===_0x581e48)break;else _0x166f8e['push'](_0x166f8e['shift']());}catch(_0x3c8df8){_0x166f8e['push'](_0x166f8e['shift']());}}}(_0x2d0e,0xf01ac));function _0x2d0e(){const _0x19d8c1=['inviterUserId','__esModule','1JllzIQ','super','__metadata','5250740tQTBNc','auditOrder','username','drawMoneyOrder','getConfigs','typeorm','salesOutletName','formatCreateOrUpdateDate','inviterUsername','salesOrderEntity','save','changeUserBaseSalesInfo','./salesRecords.entity','提现金额不足','userInfo','163793VUjzWA','该工单已审核过','default','UserEntity','HttpStatus','审核失败','map','defineProperty','SalesService','DESC','withdrawalChannels','217766qzZjqm','inviterAvatar','Repository','InjectRepository','审核完成','toNumber','email','用户不存在','function','length','appForMoney','Injectable','findAndCount','createOrder','提现金额最低必须为','salesBaseRatio','salesBaseTitle','totalAmount,\x20distributionBalance:\x20','userId','8014280IZRrvv','创建提现工单失败','user','@nestjs/typeorm','saveCommissionAmount','minus','updateUserSales','HttpException','inviterEmail','8pAkqvv','2902086yzufHQ','forEach','../user/user.entity','salesRecordsEntity','salesUserList','6966018yWuWak','GlobalConfigService','update','createUserBaseSalesInfo','228ROOUll','新秀分销商','find','inviteeAvatar','log','design:paramtypes','count','number','salesOrder','./salesUsers.entity','findOne','SalesOrderEntity','salesUsersEntity','提现金额必须为数字且大于0','inviteeUsername','createSalesRecords','decimal.js','BAD_REQUEST','withdrawalAmount','decorate','affected','auditUserId','inviteeEmail','3595996qouXTq','avatar','globalConfigService','plus','__param','hideString','orderStatus','error:\x20','role','userEntity','xxxxxxx'];_0x2d0e=function(){return _0x19d8c1;};return _0x2d0e();}var __decorate=this&&this['__decorate']||function(_0x45ca38,_0x490963,_0x3860ba,_0x26a2fc){const _0x3a4e3c=_0x36f9;var _0x29e233=arguments['length'],_0x5d6cd4=_0x29e233<0x3?_0x490963:_0x26a2fc===null?_0x26a2fc=Object['getOwnPropertyDescriptor'](_0x490963,_0x3860ba):_0x26a2fc,_0x227a98;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x3a4e3c(0x1bb))_0x5d6cd4=Reflect[_0x3a4e3c(0x185)](_0x45ca38,_0x490963,_0x3860ba,_0x26a2fc);else{for(var _0x1c34e2=_0x45ca38[_0x3a4e3c(0x1bc)]-0x1;_0x1c34e2>=0x0;_0x1c34e2--)if(_0x227a98=_0x45ca38[_0x1c34e2])_0x5d6cd4=(_0x29e233<0x3?_0x227a98(_0x5d6cd4):_0x29e233>0x3?_0x227a98(_0x490963,_0x3860ba,_0x5d6cd4):_0x227a98(_0x490963,_0x3860ba))||_0x5d6cd4;}return _0x29e233>0x3&&_0x5d6cd4&&Object[_0x3a4e3c(0x1af)](_0x490963,_0x3860ba,_0x5d6cd4),_0x5d6cd4;},__metadata=this&&this[_0x4db1ea(0x198)]||function(_0x457026,_0x474f47){const _0x3b9a58=_0x4db1ea;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x3b9a58(0x1bb))return Reflect['metadata'](_0x457026,_0x474f47);},__param=this&&this[_0x4db1ea(0x18d)]||function(_0x8659e3,_0x327f01){return function(_0x464acb,_0x348ec6){_0x327f01(_0x464acb,_0x348ec6,_0x8659e3);};};Object[_0x4db1ea(0x1af)](exports,_0x4db1ea(0x195),{'value':!![]}),exports['SalesService']=void 0x0;const globalConfig_service_1=require('./../globalConfig/globalConfig.service'),common_1=require('@nestjs/common'),salesUsers_entity_1=require(_0x4db1ea(0x17b)),typeorm_1=require(_0x4db1ea(0x1c9)),typeorm_2=require(_0x4db1ea(0x19e)),salesRecords_entity_1=require(_0x4db1ea(0x1a5)),utils_1=require('../../common/utils'),user_entity_1=require(_0x4db1ea(0x1d2)),decimal_js_1=require(_0x4db1ea(0x182)),salesOrder_entity_1=require('./salesOrder.entity');let SalesService=class SalesService{constructor(_0x2b51cb,_0x378171,_0x24947b,_0x5ebbf0,_0x53b5a1){const _0x578093=_0x4db1ea;this[_0x578093(0x17e)]=_0x2b51cb,this[_0x578093(0x1d3)]=_0x378171,this[_0x578093(0x192)]=_0x24947b,this['salesOrderEntity']=_0x5ebbf0,this[_0x578093(0x18b)]=_0x53b5a1;}async['getMineAccount'](_0x1d2eb2){const _0x3102dd=_0x4db1ea;try{const {id:_0xc8241c}=_0x1d2eb2[_0x3102dd(0x1c8)];let _0x599382=await this[_0x3102dd(0x17e)][_0x3102dd(0x17c)]({'where':{'userId':_0xc8241c}});if(!_0x599382){const {salesBaseRatio:salesBaseRatio=0xa,salesBaseTitle:salesBaseTitle=_0x3102dd(0x173)}=await this[_0x3102dd(0x18b)][_0x3102dd(0x19d)]([_0x3102dd(0x1c2),_0x3102dd(0x1c3)]);_0x599382=await this[_0x3102dd(0x1d8)]({'userId':_0xc8241c,'performanceRatio':Number(salesBaseRatio),'salesOutletName':salesBaseTitle});}const _0x28f36c=(0x0,utils_1['formatCreateOrUpdateDate'])(_0x599382),_0x4001e6=await this[_0x3102dd(0x1d3)][_0x3102dd(0x178)]({'where':{'inviterUserId':_0xc8241c}}),_0x20df42=await this['userEntity'][_0x3102dd(0x17c)]({'where':{'id':_0xc8241c}})||{'inviteLinkCount':0x0,'inviteCode':_0x3102dd(0x193)},{inviteLinkCount:_0xec6960,inviteCode:_0xa2c46b}=_0x20df42,_0x15e1fa=await this['userEntity'][_0x3102dd(0x178)]({'where':{'invitedBy':_0xa2c46b}});return{..._0x28f36c,'orderCount':_0x4001e6,'inviteCount':_0x15e1fa,'inviteLinkCount':_0xec6960};}catch(_0x5cac58){console[_0x3102dd(0x176)](_0x3102dd(0x190),_0x5cac58);}}async['getMineRecords'](_0x3ac096,_0x3b4a53){const _0x4ab256=_0x4db1ea;try{const {id:_0x50c03e}=_0x3ac096['user'],{page:_0x39f46f,size:_0x470e4b}=_0x3b4a53,[_0x2ad3af,_0xf5e543]=await this[_0x4ab256(0x1d3)][_0x4ab256(0x1bf)]({'where':{'inviterUserId':_0x50c03e},'order':{'createdAt':_0x4ab256(0x1b1)},'skip':(_0x39f46f-0x1)*_0x470e4b,'take':_0x470e4b});return{'rows':(0x0,utils_1[_0x4ab256(0x1a0)])(_0x2ad3af),'count':_0xf5e543};}catch(_0x2522f1){console[_0x4ab256(0x176)](_0x4ab256(0x190),_0x2522f1);}}async['inviteRecords'](_0x4a92bf,_0x5a8e3b){const _0xc0ca1c=_0x4db1ea;try{const {page:_0x14416d,size:_0x24b7d8,orderId:_0x292135,orderPrice:_0x17c0db}=_0x5a8e3b;let _0x1634de={};_0x292135&&(_0x1634de={'orderId':_0x292135}),_0x17c0db&&(_0x1634de={'orderPrice':_0x17c0db});const [_0xff15e,_0x28b0a6]=await this[_0xc0ca1c(0x1d3)]['findAndCount']({'where':_0x1634de,'order':{'createdAt':_0xc0ca1c(0x1b1)},'skip':(_0x14416d-0x1)*_0x24b7d8,'take':_0x24b7d8}),_0x4d18b9=[];_0xff15e['map'](_0x501a2c=>{const _0x1e113b=_0xc0ca1c;_0x4d18b9['push'](_0x501a2c[_0x1e113b(0x194)]),_0x4d18b9['push'](_0x501a2c['inviteeUserId']);});const _0x5dc10a=await this[_0xc0ca1c(0x192)][_0xc0ca1c(0x174)]({'where':{'id':(0x0,typeorm_2['In'])(_0x4d18b9)}});return _0xff15e[_0xc0ca1c(0x1d1)](_0x2fb16a=>{const _0x40ff2b=_0xc0ca1c,_0x417f1f=_0x5dc10a[_0x40ff2b(0x174)](_0x4b883e=>_0x4b883e['id']===_0x2fb16a[_0x40ff2b(0x194)]),_0x5f47d1=_0x5dc10a['find'](_0x4fecb7=>_0x4fecb7['id']===_0x2fb16a['inviteeUserId']),{username:_0x4d2e25,email:_0x901d48,avatar:_0x1ea0e3}=_0x5dc10a[_0x40ff2b(0x174)](_0xb6b235=>_0xb6b235['id']===_0x2fb16a[_0x40ff2b(0x194)]);_0x2fb16a[_0x40ff2b(0x1a1)]=_0x417f1f?.[_0x40ff2b(0x19b)],_0x2fb16a[_0x40ff2b(0x1ce)]=_0x417f1f?.[_0x40ff2b(0x1b9)],_0x2fb16a[_0x40ff2b(0x1b4)]=_0x417f1f?.[_0x40ff2b(0x18a)],_0x2fb16a[_0x40ff2b(0x180)]=_0x5f47d1?.[_0x40ff2b(0x19b)],_0x2fb16a[_0x40ff2b(0x188)]=_0x5f47d1?.[_0x40ff2b(0x1b9)],_0x2fb16a[_0x40ff2b(0x175)]=_0x5f47d1?.['avatar'];}),_0x4a92bf[_0xc0ca1c(0x1c8)][_0xc0ca1c(0x191)]!=='super'&&_0xff15e[_0xc0ca1c(0x1d1)](_0x4d2a4c=>{const _0x42cb9e=_0xc0ca1c;_0x4d2a4c[_0x42cb9e(0x1ce)]=_0x4d2a4c[_0x42cb9e(0x1ce)]?(0x0,utils_1[_0x42cb9e(0x18e)])(_0x4d2a4c[_0x42cb9e(0x1ce)]):'',_0x4d2a4c[_0x42cb9e(0x188)]=_0x4d2a4c['inviteeEmail']?(0x0,utils_1[_0x42cb9e(0x18e)])(_0x4d2a4c['inviteeEmail']):'';}),{'rows':(0x0,utils_1[_0xc0ca1c(0x1a0)])(_0xff15e),'count':_0x28b0a6};}catch(_0x180107){console[_0xc0ca1c(0x176)](_0xc0ca1c(0x190),_0x180107);}}async['createUserBaseSalesInfo'](_0x154c58){const _0x1c7ac1=_0x4db1ea,{userId:_0x34e0ce,performanceRatio:_0x3025c9,salesOutletName:_0x8fdb4b}=_0x154c58;return await this[_0x1c7ac1(0x17e)]['save']({'userId':_0x34e0ce,'performanceRatio':_0x3025c9,'salesOutletName':_0x8fdb4b});}async[_0x4db1ea(0x1a4)](_0x6ead81){const _0x1160f9=_0x4db1ea;return await this[_0x1160f9(0x17e)][_0x1160f9(0x1a3)](_0x6ead81);}async[_0x4db1ea(0x181)](_0x1c0549){const _0x16362f=_0x4db1ea;return await this[_0x16362f(0x1d3)][_0x16362f(0x1a3)](_0x1c0549);}async[_0x4db1ea(0x1ca)](_0x28e270,_0x56c066){const _0xcca0=_0x4db1ea,_0x2c73ab=await this[_0xcca0(0x17e)]['findOne']({'where':{'userId':_0x28e270}});if(!_0x2c73ab)return;const {totalAmount:_0x5d9f42,distributionBalance:_0x38d328}=_0x2c73ab;return console['log'](_0xcca0(0x1c4),_0x5d9f42,_0x38d328),await this['salesUsersEntity'][_0xcca0(0x1d7)]({'userId':_0x28e270},{'totalAmount':new decimal_js_1[(_0xcca0(0x1aa))](_0x5d9f42)[_0xcca0(0x18c)](_0x56c066)[_0xcca0(0x1b8)](),'distributionBalance':new decimal_js_1[(_0xcca0(0x1aa))](_0x38d328)[_0xcca0(0x18c)](_0x56c066)[_0xcca0(0x1b8)]()});}async[_0x4db1ea(0x1bd)](_0x27aca2,_0x3bc0b0){const _0x6ab33=_0x4db1ea,{id:_0x415c6c}=_0x27aca2[_0x6ab33(0x1c8)],{withdrawalAmount:_0x5b5c1e,withdrawalChannels:_0x35e9a2,contactInformation:_0x19683e,remark:_0xfbce35}=_0x3bc0b0,_0x1890e0=await this[_0x6ab33(0x18b)][_0x6ab33(0x19d)](['salesAllowDrawMoney'])||0xa;if(typeof _0x5b5c1e!==_0x6ab33(0x179)||_0x5b5c1e<=0x0)throw new common_1['HttpException'](_0x6ab33(0x17f),common_1[_0x6ab33(0x1ac)][_0x6ab33(0x183)]);if(Number(_0x5b5c1e)<Number(_0x1890e0))throw new common_1[(_0x6ab33(0x1cd))](_0x6ab33(0x1c1)+_0x1890e0+'元',common_1['HttpStatus']['BAD_REQUEST']);const _0x3f2fcb=await this[_0x6ab33(0x17e)][_0x6ab33(0x17c)]({'where':{'userId':_0x415c6c}}),{distributionBalance:_0x4137f6,drawMoneyIn:_0x2ad550}=_0x3f2fcb;if(Number(_0x4137f6)<Number(_0x5b5c1e))throw new common_1[(_0x6ab33(0x1cd))](_0x6ab33(0x1a6),common_1[_0x6ab33(0x1ac)][_0x6ab33(0x183)]);const _0x502215=new decimal_js_1[(_0x6ab33(0x1aa))](_0x4137f6)[_0x6ab33(0x1cb)](_0x5b5c1e)[_0x6ab33(0x1b8)](),_0x513f73={'userId':_0x415c6c,'withdrawalAmount':_0x5b5c1e,'orderStatus':0x0,'auditStatus':0x0,'withdrawalChannels':_0x35e9a2,'contactInformation':_0x19683e,'remark':_0xfbce35};await this[_0x6ab33(0x1c0)](_0x513f73);const _0x7dff20=await this[_0x6ab33(0x17e)][_0x6ab33(0x1d7)]({'userId':_0x415c6c},{'distributionBalance':_0x502215,'drawMoneyIn':new decimal_js_1[(_0x6ab33(0x1aa))](_0x2ad550)[_0x6ab33(0x18c)](_0x5b5c1e)[_0x6ab33(0x1b8)]()});}async[_0x4db1ea(0x19c)](_0x5c5392,_0x3d0a22){const _0xe7f4d0=_0x4db1ea,{id:_0x1aa568}=_0x5c5392['user'],{page:_0x40ceee,size:_0x4afa61}=_0x3d0a22,[_0x22f59b,_0x48a458]=await this['salesOrderEntity']['findAndCount']({'where':{'userId':_0x1aa568},'order':{'createdAt':_0xe7f4d0(0x1b1)},'skip':(_0x40ceee-0x1)*_0x4afa61,'take':_0x4afa61}),_0x5cbad0=_0x22f59b[_0xe7f4d0(0x1ae)](_0x922ef8=>_0x922ef8[_0xe7f4d0(0x187)]),_0x577c3c=await this[_0xe7f4d0(0x192)]['find']({'where':{'id':(0x0,typeorm_2['In'])(_0x5cbad0)}});return _0x22f59b[_0xe7f4d0(0x1d1)](_0x41353f=>{const _0x5d91a9=_0xe7f4d0,_0x47e274=_0x577c3c[_0x5d91a9(0x174)](_0x375026=>_0x375026['id']===_0x41353f[_0x5d91a9(0x187)]);_0x41353f['auditUserName']=_0x47e274?_0x47e274[_0x5d91a9(0x19b)]:'';}),{'rows':(0x0,utils_1[_0xe7f4d0(0x1a0)])(_0x22f59b),'count':_0x48a458};}async[_0x4db1ea(0x17a)](_0x4d2a30,_0x4d9b8f){const _0x2d3280=_0x4db1ea,{page:_0x4bf60f,size:_0x182bea}=_0x4d9b8f,_0x4c1e83={};_0x4d9b8f['orderStatus']!==undefined&&_0x4d9b8f[_0x2d3280(0x18f)]!==''&&(_0x4c1e83[_0x2d3280(0x18f)]=_0x4d9b8f[_0x2d3280(0x18f)]),_0x4d9b8f[_0x2d3280(0x1b2)]&&(_0x4c1e83[_0x2d3280(0x1b2)]=_0x4d9b8f[_0x2d3280(0x1b2)]);const [_0x4919ad,_0x3e298a]=await this[_0x2d3280(0x1a2)][_0x2d3280(0x1bf)]({'where':_0x4c1e83,'order':{'createdAt':_0x2d3280(0x1b1)},'skip':(_0x4bf60f-0x1)*_0x182bea,'take':_0x182bea}),_0x330abc=_0x4919ad['map'](_0x5019b6=>_0x5019b6[_0x2d3280(0x1c5)]),_0x5cff09=await this[_0x2d3280(0x192)][_0x2d3280(0x174)]({'where':{'id':(0x0,typeorm_2['In'])(_0x330abc)}});return _0x4919ad[_0x2d3280(0x1d1)](_0x51906f=>{const _0xed4912=_0x2d3280,_0x24faf6=_0x5cff09[_0xed4912(0x174)](_0x466d21=>_0x466d21['id']===_0x51906f[_0xed4912(0x1c5)]);if(_0x24faf6){const {username:_0x5f118b,email:_0x4292ea,avatar:_0x17c2a6}=_0x24faf6;_0x51906f[_0xed4912(0x1a7)]={'username':_0x5f118b,'avatar':_0x17c2a6,'email':(0x0,utils_1['hideString'])(_0x4292ea)};}}),{'rows':(0x0,utils_1[_0x2d3280(0x1a0)])(_0x4919ad),'count':_0x3e298a};}async[_0x4db1ea(0x1c0)](_0x1535f9){const _0x1e4b3e=_0x4db1ea;try{return await this['salesOrderEntity']['save'](_0x1535f9);}catch(_0x20cb86){console[_0x1e4b3e(0x176)](_0x1e4b3e(0x190),_0x20cb86);throw new common_1[(_0x1e4b3e(0x1cd))](_0x1e4b3e(0x1c7),common_1[_0x1e4b3e(0x1ac)][_0x1e4b3e(0x183)]);}}async[_0x4db1ea(0x19a)](_0x588231,_0x46aef4){const _0x1d1dfe=_0x4db1ea;try{const {id:_0x2c4578}=_0x588231[_0x1d1dfe(0x1c8)],{id:_0x20027e,status:_0x3a7719}=_0x46aef4;if(![0x1,-0x1]['includes'](_0x3a7719))throw new common_1[(_0x1d1dfe(0x1cd))]('审核状态错误',common_1['HttpStatus'][_0x1d1dfe(0x183)]);const _0x6e9d48=await this['salesOrderEntity'][_0x1d1dfe(0x17c)]({'where':{'id':_0x20027e}});if(_0x6e9d48[_0x1d1dfe(0x18f)]!==0x0)throw new common_1[(_0x1d1dfe(0x1cd))](_0x1d1dfe(0x1a9),common_1[_0x1d1dfe(0x1ac)]['BAD_REQUEST']);const _0x30fb52=await this[_0x1d1dfe(0x17e)][_0x1d1dfe(0x17c)]({'where':{'userId':_0x6e9d48[_0x1d1dfe(0x1c5)]}}),{withdrawalAmount:_0x22dc51,drawMoneyIn:_0x929d94}=_0x30fb52,_0x4d2942=new decimal_js_1[(_0x1d1dfe(0x1aa))](_0x22dc51)[_0x1d1dfe(0x18c)](_0x6e9d48[_0x1d1dfe(0x184)])[_0x1d1dfe(0x1b8)](),_0x2845da=new decimal_js_1[(_0x1d1dfe(0x1aa))](_0x929d94)[_0x1d1dfe(0x1cb)](_0x6e9d48['withdrawalAmount'])[_0x1d1dfe(0x1b8)]();return await this[_0x1d1dfe(0x17e)][_0x1d1dfe(0x1d7)]({'userId':_0x6e9d48['userId']},{'withdrawalAmount':_0x4d2942,'drawMoneyIn':_0x2845da}),await this[_0x1d1dfe(0x1a2)][_0x1d1dfe(0x1d7)]({'id':_0x20027e},{'orderStatus':_0x3a7719,'auditStatus':_0x3a7719,'auditUserId':_0x2c4578,'paymentStatus':_0x3a7719}),_0x1d1dfe(0x1b7);}catch(_0x45e108){console[_0x1d1dfe(0x176)]('error:\x20',_0x45e108);throw new common_1[(_0x1d1dfe(0x1cd))](_0x1d1dfe(0x1ad),common_1[_0x1d1dfe(0x1ac)][_0x1d1dfe(0x183)]);}}async[_0x4db1ea(0x1d4)](_0x2e0fed,_0x54226f){const _0x1a9f31=_0x4db1ea,{page:_0x414acb,size:_0x29afe8,salesOutletName:_0xc29fe6,performanceRatio:_0xda5f42}=_0x54226f,_0xd06fe6={};_0xc29fe6&&(_0xd06fe6[_0x1a9f31(0x19f)]=(0x0,typeorm_2['Like'])('%'+_0xc29fe6+'%')),_0xda5f42&&(_0xd06fe6['performanceRatio']=_0xda5f42);const [_0x556f0d,_0x21dbb]=await this[_0x1a9f31(0x17e)][_0x1a9f31(0x1bf)]({'where':_0xd06fe6,'order':{'id':'DESC'},'skip':(_0x414acb-0x1)*_0x29afe8,'take':_0x29afe8}),_0x10e622=_0x556f0d['map'](_0x352aa7=>_0x352aa7[_0x1a9f31(0x1c5)]),_0x45bcf0=await this[_0x1a9f31(0x192)][_0x1a9f31(0x174)]({'where':{'id':(0x0,typeorm_2['In'])(_0x10e622)}});return _0x556f0d['forEach'](_0x21644b=>{const _0x43c13b=_0x1a9f31,_0x2ffb61=_0x45bcf0[_0x43c13b(0x174)](_0x5cff84=>_0x5cff84['id']===_0x21644b[_0x43c13b(0x1c5)]);_0x21644b[_0x43c13b(0x1a7)]=_0x2ffb61?_0x2ffb61:{};}),_0x2e0fed['user']['role']!==_0x1a9f31(0x197)&&_0x556f0d[_0x1a9f31(0x1d1)](_0x3162e6=>{const _0x17fa7a=_0x1a9f31;_0x3162e6[_0x17fa7a(0x1a7)][_0x17fa7a(0x1b9)]=_0x3162e6[_0x17fa7a(0x1a7)]?.[_0x17fa7a(0x1b9)]?(0x0,utils_1[_0x17fa7a(0x18e)])(_0x3162e6[_0x17fa7a(0x1a7)]?.[_0x17fa7a(0x1b9)]):'';}),{'rows':_0x556f0d,'count':_0x21dbb};}async[_0x4db1ea(0x1cc)](_0x1c4665,_0x1ca03e){const _0x1e014c=_0x4db1ea,{performanceRatio:_0x3f34d0,salesOutletName:_0x2f2c3c,userId:_0x407abe}=_0x1ca03e,_0x53ae4c=await this[_0x1e014c(0x17e)][_0x1e014c(0x17c)]({'where':{'userId':_0x407abe}});if(!_0x53ae4c)throw new common_1[(_0x1e014c(0x1cd))](_0x1e014c(0x1ba),common_1[_0x1e014c(0x1ac)][_0x1e014c(0x183)]);const _0x2df099=await this[_0x1e014c(0x17e)][_0x1e014c(0x1d7)]({'userId':_0x407abe},{'performanceRatio':_0x3f34d0,'salesOutletName':_0x2f2c3c});if(_0x2df099[_0x1e014c(0x186)]>0x0)return'修改成功';else throw new common_1[(_0x1e014c(0x1cd))]('修改失败',common_1[_0x1e014c(0x1ac)]['BAD_REQUEST']);}};function _0x36f9(_0x1bb7b1,_0x333a3c){const _0x2d0eed=_0x2d0e();return _0x36f9=function(_0x36f949,_0x541709){_0x36f949=_0x36f949-0x172;let _0x11f8a7=_0x2d0eed[_0x36f949];return _0x11f8a7;},_0x36f9(_0x1bb7b1,_0x333a3c);}SalesService=__decorate([(0x0,common_1[_0x4db1ea(0x1be)])(),__param(0x0,(0x0,typeorm_1[_0x4db1ea(0x1b6)])(salesUsers_entity_1['SalesUsersEntity'])),__param(0x1,(0x0,typeorm_1[_0x4db1ea(0x1b6)])(salesRecords_entity_1['SalesRecordsEntity'])),__param(0x2,(0x0,typeorm_1[_0x4db1ea(0x1b6)])(user_entity_1[_0x4db1ea(0x1ab)])),__param(0x3,(0x0,typeorm_1[_0x4db1ea(0x1b6)])(salesOrder_entity_1[_0x4db1ea(0x17d)])),__metadata(_0x4db1ea(0x177),[typeorm_2[_0x4db1ea(0x1b5)],typeorm_2[_0x4db1ea(0x1b5)],typeorm_2[_0x4db1ea(0x1b5)],typeorm_2[_0x4db1ea(0x1b5)],globalConfig_service_1[_0x4db1ea(0x1d6)]])],SalesService),exports[_0x4db1ea(0x1b0)]=SalesService;