'use strict';const _0x5dca27=_0xee2c;function _0x42e4(){const _0x2420ce=['getAccessToken','trim','text','axios','split','&client_secret=','499488RBLMgj','https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/','stream','data:\x20','2230570UuaBdb','application/json','keys','then','qianfan_chinese_llama_2_7b','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','llama_2_7b','sendMessageFromBaidu','data','post','toLowerCase','3022712wmiPIY','llama_2_13b','catch','6WCxHFb','map','?access_token=','bloomz_7b1','chatglm2_6b_32k','replace','access_token','382998qeqQBB','66955VfCxyh','1216755kAMnro','42LhdNio','__esModule','2157408OJHhkz','completions'];_0x42e4=function(){return _0x2420ce;};return _0x42e4();}(function(_0x2bae1c,_0x2aae72){const _0x8eb2f=_0xee2c,_0x2e9273=_0x2bae1c();while(!![]){try{const _0x51be09=-parseInt(_0x8eb2f(0x1bd))/0x1+parseInt(_0x8eb2f(0x1b0))/0x2*(parseInt(_0x8eb2f(0x1cf))/0x3)+parseInt(_0x8eb2f(0x1b5))/0x4+parseInt(_0x8eb2f(0x1c1))/0x5+parseInt(_0x8eb2f(0x1b3))/0x6*(-parseInt(_0x8eb2f(0x1b1))/0x7)+-parseInt(_0x8eb2f(0x1cc))/0x8+-parseInt(_0x8eb2f(0x1b2))/0x9;if(_0x51be09===_0x2aae72)break;else _0x2e9273['push'](_0x2e9273['shift']());}catch(_0x422207){_0x2e9273['push'](_0x2e9273['shift']());}}}(_0x42e4,0x468db));Object['defineProperty'](exports,_0x5dca27(0x1b4),{'value':!![]}),exports[_0x5dca27(0x1c8)]=exports[_0x5dca27(0x1b7)]=void 0x0;const axios=require(_0x5dca27(0x1ba)),getApiModelMaps=()=>{const _0x37aabb=_0x5dca27;let _0x4bcd25={};const _0x2e2c79={'ERNIE-Bot':_0x37aabb(0x1b6),'ERNIE-Bot-turbo':'eb-instant','ERNIE-Bot-4.0':'completions_pro','BLOOMZ-7B':_0x37aabb(0x1ac),'Llama-2-7b-chat':_0x37aabb(0x1c7),'Llama-2-13b-chat':_0x37aabb(0x1cd),'ChatGLM2-6B-32K':_0x37aabb(0x1ad),'Qianfan-Chinese-Llama-2-7B':_0x37aabb(0x1c5)};return Object[_0x37aabb(0x1c3)](_0x2e2c79)[_0x37aabb(0x1d0)](_0x418e1c=>{_0x4bcd25[''+_0x418e1c['toLowerCase']()]=_0x2e2c79[_0x418e1c];}),_0x4bcd25;};function getAccessToken(_0x553ba1,_0x486073){const _0x584ab1=_0x5dca27;let _0x506d82=_0x584ab1(0x1c6)+_0x553ba1+_0x584ab1(0x1bc)+_0x486073;return new Promise((_0x5a23d7,_0x5a508f)=>{const _0x755313=_0x584ab1;axios[_0x755313(0x1ca)](_0x506d82)[_0x755313(0x1c4)](_0x35b6a0=>{const _0x4c7df5=_0x755313;_0x5a23d7(_0x35b6a0[_0x4c7df5(0x1c9)][_0x4c7df5(0x1af)]);})[_0x755313(0x1ce)](_0x527870=>{_0x5a508f(_0x527870);});});}exports[_0x5dca27(0x1b7)]=getAccessToken;function sendMessageFromBaidu(_0x3d1371,{onProgress:_0x1ab60c,accessToken:_0x238209,model:_0x7b67ba,temperature:temperature=0.95}){const _0x4b7861=_0x5dca27,_0x312abe=getApiModelMaps()[_0x7b67ba[_0x4b7861(0x1b8)]()[_0x4b7861(0x1cb)]()];return new Promise((_0x33688f,_0x517330)=>{const _0x4c7e29=_0x4b7861,_0x4d316b=_0x4c7e29(0x1be)+_0x312abe+_0x4c7e29(0x1ab)+_0x238209,_0x2a1d2f={'method':'POST','url':_0x4d316b,'responseType':_0x4c7e29(0x1bf),'headers':{'Content-Type':_0x4c7e29(0x1c2)},'data':{'stream':!![],'messages':_0x3d1371}};axios(_0x2a1d2f)['then'](_0x25dde4=>{const _0x4f6f80=_0x25dde4['data'];let _0x133256={},_0x2443ee='',_0x2b64ed='';_0x4f6f80['on']('data',_0x56dc5c=>{const _0x1f22e1=_0xee2c,_0x2c42a1=_0x56dc5c['toString']()[_0x1f22e1(0x1bb)]('\x0a\x0a')['filter'](_0x20e62a=>_0x20e62a[_0x1f22e1(0x1b8)]()!=='');for(const _0x327cce of _0x2c42a1){const _0x5e9a0b=_0x327cce[_0x1f22e1(0x1ae)](_0x1f22e1(0x1c0),'');try{const _0x10feca=_0x2443ee+_0x5e9a0b,_0x2a04c8=JSON['parse'](_0x10feca);_0x2443ee='';const {is_end:_0x2ae6ae,result:_0x36f91f}=_0x2a04c8;_0x36f91f&&(_0x2b64ed+=_0x36f91f),_0x2ae6ae&&(_0x133256=_0x2a04c8,_0x133256[_0x1f22e1(0x1b9)]=_0x2b64ed),_0x1ab60c(_0x2a04c8);}catch(_0x4237c9){_0x2443ee=_0x5e9a0b;}}}),_0x4f6f80['on']('end',()=>{_0x2b64ed='',_0x2443ee='',_0x33688f(_0x133256);});})[_0x4c7e29(0x1ce)](_0x75317=>{console['log'](_0x75317),_0x517330(new Error(_0x75317));});});}function _0xee2c(_0xa5404c,_0x24024a){const _0x42e47f=_0x42e4();return _0xee2c=function(_0xee2caf,_0x5c38d7){_0xee2caf=_0xee2caf-0x1ab;let _0x3466fc=_0x42e47f[_0xee2caf];return _0x3466fc;},_0xee2c(_0xa5404c,_0x24024a);}exports[_0x5dca27(0x1c8)]=sendMessageFromBaidu;