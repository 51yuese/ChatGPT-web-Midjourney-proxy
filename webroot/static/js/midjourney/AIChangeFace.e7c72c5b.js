import{_ as e}from"../Line 1/Line 1.30390b32.js";import{_ as a}from"../draw-fail/draw-fail.8f549170.js";import{_ as t,a as l}from"../police/police.b4a86fcd.js";import{d as s,_ as i,a as o,b as n,p as u,N as r,c as d}from"../popup/popup.cf559ca1.js";import{a as v}from"../music/music.aabbafa0.js";import{d as c,e as p,aJ as g,y as m,b as f,g as h,c as x,u as y,V as k,aF as b,I as F,aE as w,G as I,a4 as A,i as L,l as j,h as C,n as D,k as T,j as _,F as B,r as E,M as N,Z as M,m as S,o as P,aK as R,aL as J,C as z,D as U,aM as H,aN as O,H as G}from"../main-9f041486.js";import{S as V}from"../index/index.a184fda1.js";import{u as W}from"../index/index.e2d886a7.js";import"../createInspiration.vue_vue_type_script_setup_true_lang/createInspiration.vue_vue_type_script_setup_true_lang.3b396714.js";const K=e=>(z("data-v-fdb76350"),e=e(),U(),e),q={key:1},Z={key:2},Q={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},X={style:{width:"100%"}},Y={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%"}},$={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},ee={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},ae={style:{display:"flex","margin-top":"12px"}},te=["onClick"],le=K((()=>_("div",{class:"MJBox dark:bg-[#202B3A] bg-[#fff]"},[_("div",{class:"intro dark:text-[#CAC5C5] text-[#808080]"}," 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 ")],-1))),se=K((()=>_("div",{class:"first"},"第一步，上传人脸模板图片",-1))),ie={class:"padMapBox"},oe=K((()=>_("div",{class:"intro text-[#FF837E] dark:text-[#FF6C60]"},"严禁上传违规图(政治人物、色情、暴恐等)违者100%封号",-1))),ne={class:"modePutExpand"},ue={class:"upLoadContent"},re=K((()=>_("div",{class:"intro text-[#A3A5A6] dark:text-[#76777A]"},"注意素材质量，保证脸部足够清晰，为了更好的效果，最好正脸。",-1))),de=K((()=>_("div",{class:"second"},"第二步，上传需要替换人脸的目标图",-1))),ve={class:"padMapBox"},ce=K((()=>_("div",{class:"intro text-[#FF837E] dark:text-[#FF6C60]"},"严禁上传违规图(政治人物、色情、暴恐等)违者100%封号",-1))),pe={class:"modePutExpand"},ge={class:"upLoadContent"},me=K((()=>_("div",{class:"intro text-[#A3A5A6] dark:text-[#76777A]"},"最大2048x2048像素，不超过5MB，建议：五官无遮挡，角度小于20%",-1))),fe=K((()=>_("div",{class:"intro text-[#FF837E] dark:text-[#FF6C60]",style:{"margin-top":"4px"}},"换脸操作只能在写实版人物上进行，漫回类因面部五官比例不统一，是无法完成换脸操作!",-1))),he=K((()=>_("div",{class:"third"},"第三步，提交任务",-1))),xe=K((()=>_("div",{class:"thirdIntro dark:text-[#F4F4F4] text-[#03060C]"},"免责声明： 本功能效果太逼真！请遵守相关法律法规，反对非法用途，包括但不限于侵犯他人隐私、散布虚假信息，进行诈骗等行为！",-1))),ye={class:"radioBox dark:bg-[#15171A] bg-[#FFFFFF]"},ke={style:{display:"flex"}},be=[K((()=>_("img",{src:e,alt:""},null,-1)))],Fe=K((()=>_("p",{style:{"margin-left":"4px","font-size":"10px"}},"快图模式",-1))),we=[K((()=>_("img",{src:e,alt:""},null,-1)))],Ie=K((()=>_("p",{style:{"margin-left":"4px","font-size":"10px"}},"常规模式",-1))),Ae=[K((()=>_("img",{style:{width:"12px",height:"12px","margin-right":"4px"},src:a,alt:""},null,-1))),K((()=>_("p",{style:{"font-size":"10px"},class:"text-[#A3A5A6] dark:text-[#76777A]"},"免责声明",-1)))],Le={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},je=K((()=>_("div",{class:"contentCenterTop border-b-[2px] bg-[#fff] dark:bg-[#15171A] border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[_("span",null,"#  创作中心"),_("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),Ce={key:0,class:"w-full",style:{padding:"0 0px",position:"relative","margin-top":"10px"}},De={key:0,style:{height:"64vh",display:"flex","justify-content":"center","align-items":"center"}},Te=[K((()=>_("div",{style:{width:"50px",height:"50px"}},[_("div",{class:"loader"})],-1)))],_e={style:{"margin-top":"10px"}},Be={style:{color:"#eeeeee"},class:"end"},Ee={style:{display:"flex"}},Ne={key:0,style:{display:"flex"}},Me=K((()=>_("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:t,alt:""},null,-1))),Se=["href"],Pe={key:1,style:{display:"flex"}},Re=K((()=>_("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:l,alt:""},null,-1))),Je=["href"],ze=G(c({__name:"AIChangeFace",setup(e){const a=W();p();const t=g(),l=m(0);setTimeout((()=>{l.value=1}),0),f();const c=f(),{isMobile:z}=h(),U=f(),G=x((()=>U.isLogin));x((()=>U.userInfo.avatar)),x((()=>U.userInfo.username)),x((()=>U.userBalance));const K=x((()=>U.mjDrawForm)),ze=y(),Ue=m(),He=m([]),Oe=m(),Ge=m(0);k(G,((e,a)=>{console.log("登陆状态变化了",e),e&&b({page:1,size:20}).then((e=>{let a=e.data.rows;He.value=a.reverse(),localStorage.setItem("drawLogList",JSON.stringify(a)),Ge.value=1,setTimeout((()=>{ia()}),100)}))})),b({page:1,size:20}).then((e=>{let a=e.data.rows;He.value=a.reverse(),localStorage.setItem("drawLogList",JSON.stringify(a)),Ge.value=1,setTimeout((()=>{ia()}),100)})),F({files:[],previewImages:[]});const Ve=m(""),We=["jpg","jpeg","png"],Ke=e=>{"pending"===e.file.status&&ea(e.file.file).then((e=>{let a="data:image/png;base64,"+e;Ve.value=a,I.emit("sourceBase64",Ve.value)})),"removed"===e.file.status&&ea(e.file.file).then((e=>{Ve.value="",I.emit("sourceBase64",Ve.value)}))},qe=e=>{const a=e.file.type.split("/")[1];return e.fileList.length>=1?(ze.warning("最多只能上传1张图片"),!1):We.includes(a)&&e.fileList.length<=1},Ze=e=>{const a=e.file.name;K.value.extendParam=K.value.extendParam.filter((e=>!e.filename.includes(a))),Qe()},Qe=async()=>{U.updateMjDrawForm(K.value)},Xe=e=>{"pending"===e.file.status&&ea(e.file.file).then((e=>{let a="data:image/png;base64,"+e;Ve.value=a,I.emit("targetBase64",Ve.value)})),"removed"===e.file.status&&ea(e.file.file).then((e=>{Ve.value="",I.emit("sourceBase64",Ve.value)}))},Ye=e=>{const a=e.file.type.split("/")[1];return e.fileList.length>=1?(ze.warning("最多只能上传1张图片"),!1):We.includes(a)&&e.fileList.length<=1},$e=e=>{const a=e.file.name;K.value.extendParam=K.value.extendParam.filter((e=>!e.filename.includes(a))),Qe()};function ea(e){return new Promise(((a,t)=>{const l=new FileReader;l.readAsDataURL(e),l.onload=function(){const e=l.result.split(",")[1];a(e)},l.onerror=function(){t(new Error("Failed to load file"))}}))}const aa=e=>{Oe.value=e},ta=async e=>{if(!e)return;const t=await H({jobIds:e});va.value=t.data;let l=t.data.filter((e=>e.status>=3)),s=t.data.filter((e=>6==e.status));if(l.length,0!=s.length){let e=s[0];return 9==e.action?a.openRegionModal(!0,{customId:e.customId,taskId:e.id,mode:e.mode}):U.updateRemixModal(!0,{prompt:"",taskId:e.id,customId:e.customId}),void(ca.value&&clearTimeout(ca.value))}if(l.length==t.data.length)return ca.value&&clearTimeout(ca.value),void setTimeout((()=>sa()),100);pa()},la=m(null),sa=()=>{let e=la.value;e.scrollTo({top:e.scrollHeight+e.clientHeight,behavior:"smooth"})},ia=()=>{let e=la.value;e.scrollTop=e.scrollHeight},oa=m(),na=m([]),ua=async e=>{na.value=[...na.value,e],1==na.value.length?oa.value=na.value[0]:na.value.length>1&&(oa.value=na.value.join(",")),await ta(oa.value),setTimeout((()=>sa()),100)},ra=m([]),da=async e=>{ra.value=[...ra.value,e],1==ra.value.length?Ue.value=ra.value[0]:ra.value.length>1&&(Ue.value=ra.value.join(",")),await ta(Ue.value),setTimeout((()=>sa()),100)},va=m({status:0}),ca=m(),pa=()=>{ca.value&&clearTimeout(ca.value),ca.value=setTimeout((()=>{var e,a,t;if((null==(e=va.value)?void 0:e.status)===O.DRAWED||(null==(a=va.value)?void 0:a.status)===O.DRAWFAIL||(null==(t=va.value)?void 0:t.status)===O.DRAWTIMEOUT)return ca.value&&clearTimeout(ca.value),Oe.value=0,I.emit("status",Oe.value),He.value.push(va.value),I.emit("newDrawLogList",He.value),oa.value="",Ue.value="",void b({page:1,size:20}).then((e=>{let a=e.data.rows;He.value=a.reverse(),localStorage.setItem("drawLogList",JSON.stringify(e.data.rows)),setTimeout((()=>sa()),100)}));Ue.value?(pa(),ta(Ue.value)):oa.value&&(pa(),ta(oa.value))}),3e3)};w((()=>{ca.value&&clearTimeout(ca.value),ca.value=null,c.updateDrawId({id:""})})),m(0),I.on("upLoadIsShow",(e=>{l.value=e})),I.on("upLoadShow",(e=>{l.value=e}));const ga=m(!1);I.on("error",(e=>{ga.value=e}));const ma=()=>{ga.value=!1},fa=()=>{ga.value=!1,U.checkAuth()&&t.updateVipDialog(!0)},ha=m(!1);I.emit("drawRoute",A.options.history.location);const xa=m("");xa.value=A.currentRoute.value.fullPath;const ya=m(""),ka=m(""),ba=m(""),Fa=m(""),wa=m("");v({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{ya.value=e.data.copyrightTitle,ka.value=e.data.icpNumber,ba.value=e.data.policeFilingNumber,Fa.value=e.data.icpUrl,wa.value=e.data.policeFilingUrl})),m(!1),m(!1);const Ia=m(0),Aa=m(1);function La(e){Ia.value=e,0==e?Aa.value=1:1==e&&(Aa.value=2),I.emit("AiFaceMode",Aa.value)}function ja(){A.push("/serviceAgreement")}return(e,a)=>(P(),L(B,null,[ha.value?(P(),L("div",{key:0,class:"mask",onClick:a[0]||(a[0]=e=>ha.value=!1)})):j("",!0),C(z)?(P(),L("div",q,[D(n)])):j("",!0),ga.value?(P(),L("div",Z,[D(u,{onClosePop:ma,onBuyVip:fa})])):j("",!0),C(z)?j("",!0):(P(),L("div",Q,[C(z)?j("",!0):(P(),T(V,{key:0})),_("div",X,[_("div",Y,[_("div",$,[_("div",ee,[_("div",ae,[(P(!0),L(B,null,E(C(R),(e=>(P(),L("div",{class:N(xa.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){A.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&I.emit("upLoadShow",1)}(e)},S(e.menuName),11,te)))),128))]),le]),se,_("div",ie,[oe,_("div",ne,[_("div",ue,[_("div",null,[D(C(J),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Ke,"on-before-upload":Ye,"on-remove":$e,"list-type":"image-card","directory-dnd":""})])])]),re]),de,_("div",ve,[ce,_("div",pe,[_("div",ge,[_("div",null,[D(C(J),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Xe,"on-before-upload":qe,"on-remove":Ze,"list-type":"image-card","directory-dnd":""})])])]),me,fe]),he,xe,_("div",ye,[_("div",ke,[_("div",{class:"radioItem",onClick:a[1]||(a[1]=e=>La(0))},[_("div",{class:N(["radioItemImgBox",0==Ia.value?"dark:bg-[#2960BE] bg-[#3378ED]":"dark:bg-[#484A4D] bg-[#CECFD0]"])},be,2),Fe]),_("div",{class:"radioItem",style:{"margin-left":"12px"},onClick:a[2]||(a[2]=e=>La(1))},[_("div",{class:N(["radioItemImgBox",1==Ia.value?"dark:bg-[#2960BE] bg-[#3378ED]":"dark:bg-[#484A4D] bg-[#CECFD0]"])},we,2),Ie])]),_("div",{style:{display:"flex","align-items":"center",cursor:"pointer"},onClick:ja},Ae)]),D(r,{sendType:1,onGetjobId:da,onResquestStatus:aa})]),_("div",Le,[je,0!=He.value.length||Ue.value?(P(),L("div",{key:1,class:"drawList",ref_key:"toTop",ref:la},[_("div",_e,[D(s,{drawLogList:He.value,onNewJobId:ua},null,8,["drawLogList"])]),Ue.value?(P(),T(i,{key:0,task:va.value,onRefresh:da},null,8,["task"])):j("",!0),oa.value?(P(),T(o,{key:1,task:va.value,onNewJob:ua},null,8,["task"])):j("",!0)],512)):(P(),L("div",Ce,[0==Ge.value&&G.value?(P(),L("div",De,Te)):j("",!0),0==Ge.value&&G.value?j("",!0):(P(),T(d,{key:1}))])),_("div",Be,[_("div",Ee,[M("版权所有 © "+S(ya.value)+" ",1),ka.value?(P(),L("div",Ne,[Me,_("a",{href:Fa.value||"#"},S(ka.value),9,Se)])):j("",!0),ba.value?(P(),L("div",Pe,[Re,_("a",{href:wa.value||"#"},S(ba.value),9,Je)])):j("",!0)])])])])])]))],64))}}),[["__scopeId","data-v-fdb76350"]]);export{ze as default};
