import{_ as e,a}from"../1.1Light/1.1Light.a9718ff8.js";import{_ as t}from"../Line 1/Line 1.30390b32.js";import{_ as l}from"../draw-fail/draw-fail.8f549170.js";import{_ as i,a as s}from"../police/police.b4a86fcd.js";import{d as o,_ as r,a as u,b as d,p as n,N as v,c}from"../popup/popup.cf559ca1.js";import{d as p,e as m,c as g,aJ as f,b as x,g as y,u as h,y as k,a4 as b,V as F,aF as w,aE as I,G as A,i as L,l as S,h as j,n as C,k as D,j as T,F as B,r as E,M as _,Z as z,m as N,aM as R,aN as M,o as P,aK as J,aL as U,C as V,D as H,H as O}from"../main-9f041486.js";import{S as q}from"../index/index.a184fda1.js";import{u as G}from"../index/index.e2d886a7.js";import{a as W}from"../music/music.aabbafa0.js";import"../createInspiration.vue_vue_type_script_setup_true_lang/createInspiration.vue_vue_type_script_setup_true_lang.3b396714.js";const K=e=>(V("data-v-8034a390"),e=e(),H(),e),Q={key:1},Z={key:2},X={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},Y={style:{width:"100%"}},$={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%"}},ee={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},ae={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},te={style:{display:"flex","margin-top":"12px"}},le=["onClick"],ie=K((()=>T("div",{class:"MJBox dark:bg-[#202B3A] bg-[#fff]"},[T("div",{class:"intro dark:text-[#CAC5C5] text-[#808080]"}," 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 ")],-1))),se={class:"padMapBox"},oe=K((()=>T("div",{style:{display:"flex","justify-content":"space-between"}},[T("div",{style:{display:"flex"}},[T("div",{style:{"font-size":"15px","font-weight":"500"}},"上传图片（2-5张）")])],-1))),re={class:"modePutExpand"},ue={class:"upLoadContent"},de={class:"ImgSize",style:{"margin-top":"10px"}},ne=K((()=>T("div",{style:{display:"flex","justify-content":"space-between"}},[T("div",{style:{display:"flex"}},[T("div",{style:{"font-size":"15px","font-weight":"500"}},"图片尺寸")])],-1))),ve={class:"modePutExpand"},ce={class:"sizeBox"},pe={class:"imgBox"},me={key:0,src:e,alt:""},ge={key:1,src:a,alt:""},fe=K((()=>T("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:1",-1))),xe=K((()=>T("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"头像框",-1))),ye={class:"imgBox"},he={key:0,src:e,alt:""},ke={key:1,src:a,alt:""},be=K((()=>T("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:2",-1))),Fe=K((()=>T("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"横板名片",-1))),we={class:"imgBox"},Ie={key:0,src:e,alt:""},Ae={key:1,src:a,alt:""},Le=K((()=>T("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"2:3",-1))),Se=K((()=>T("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"小红书图",-1))),je=K((()=>T("div",{class:"promptBox dark:bg-[#202B3A] bg-[#F5F8FE] text-[#3378ED] dark:text-[#2960BE]"}," 温馨提示：同官方的/blend命令图混图，最多可以上传5张图片进行混图，图片越靠前，权重越高。 ",-1))),Ce={class:"radioBox dark:bg-[#15171A] bg-[#FFFFFF]"},De={style:{display:"flex"}},Te=[K((()=>T("img",{src:t,alt:""},null,-1)))],Be=K((()=>T("p",{style:{"margin-left":"4px","font-size":"10px"}},"快图模式",-1))),Ee=[K((()=>T("img",{src:t,alt:""},null,-1)))],_e=K((()=>T("p",{style:{"margin-left":"4px","font-size":"10px"}},"常规模式",-1))),ze=[K((()=>T("img",{style:{width:"12px",height:"12px","margin-right":"4px"},src:l,alt:""},null,-1))),K((()=>T("p",{style:{"font-size":"10px"},class:"text-[#A3A5A6] dark:text-[#76777A]"},"免责声明",-1)))],Ne={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},Re=K((()=>T("div",{class:"contentCenterTop border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[T("span",null,"#  创作中心"),T("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),Me={key:0,class:"w-full",style:{padding:"0 0px",position:"relative","margin-top":"10px"}},Pe={key:0,style:{height:"64vh",display:"flex","justify-content":"center","align-items":"center"}},Je=[K((()=>T("div",{style:{width:"50px",height:"50px"}},[T("div",{class:"loader"})],-1)))],Ue={style:{"margin-top":"10px"}},Ve={style:{color:"#eeeeee"},class:"end"},He={style:{display:"flex"}},Oe={key:0,style:{display:"flex"}},qe=K((()=>T("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:i,alt:""},null,-1))),Ge=["href"],We={key:1,style:{display:"flex"}},Ke=K((()=>T("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:s,alt:""},null,-1))),Qe=["href"],Ze=O(p({__name:"imageMiximage",setup(e){const a=m(),t=g((()=>"dark"===a.theme)),l=f(),i=x(),{isMobile:s}=y(),p=h(),V=x(),H=g((()=>V.isLogin));g((()=>V.userInfo.avatar)),g((()=>V.userInfo.username)),g((()=>V.userBalance));const O=g((()=>V.mjDrawForm)),K=k(),Ze=k([]),Xe=G(),Ye=k("");Ye.value=b.currentRoute.value.fullPath;const $e=k(),ea=k(0);F(H,((e,a)=>{console.log("登陆状态变化了",e),e&&w({page:1,size:20}).then((e=>{let a=e.data.rows;Ze.value=a.reverse(),localStorage.setItem("drawLogList",JSON.stringify(a)),ea.value=1,setTimeout((()=>{la()}),100)}))})),w({page:1,size:20}).then((e=>{let a=e.data.rows;Ze.value=a.reverse(),localStorage.setItem("drawLogList",JSON.stringify(a)),ea.value=1,setTimeout((()=>{la()}),100)}));const aa=k(null),ta=()=>{let e=aa.value;e.scrollTo({top:e.scrollHeight+e.clientHeight,behavior:"smooth"})},la=()=>{let e=aa.value;e.scrollTop=e.scrollHeight},ia=k(),sa=k([]),oa=async e=>{sa.value=[...sa.value,e],1==sa.value.length?ia.value=sa.value[0]:sa.value.length>1&&(ia.value=sa.value.join(",")),await ra(ia.value),setTimeout((()=>ta()),100)},ra=async e=>{if(!e)return;const a=await R({jobIds:e});na.value=a.data;let t=a.data.filter((e=>e.status>=3)),l=a.data.filter((e=>6==e.status));if(t.length,0!=l.length){let e=l[0];return 9==e.action?Xe.openRegionModal(!0,{customId:e.customId,taskId:e.id,mode:e.mode}):V.updateRemixModal(!0,{prompt:"",taskId:e.id,customId:e.customId}),void(va.value&&clearTimeout(va.value))}if(t.length==a.data.length)return va.value&&clearTimeout(va.value),void setTimeout((()=>ta()),100);ca()},ua=k([]),da=async e=>{ua.value=[...ua.value,e],1==ua.value.length?$e.value=ua.value[0]:ua.value.length>1&&($e.value=ua.value.join(",")),await ra($e.value),setTimeout((()=>ta()),100)},na=k({status:0}),va=k(),ca=()=>{va.value&&clearTimeout(va.value),va.value=setTimeout((()=>{var e,a,t;if((null==(e=na.value)?void 0:e.status)===M.DRAWED||(null==(a=na.value)?void 0:a.status)===M.DRAWFAIL||(null==(t=na.value)?void 0:t.status)===M.DRAWTIMEOUT)return va.value&&clearTimeout(va.value),K.value=0,A.emit("status",K.value),Ze.value.push(na.value),A.emit("newDrawLogList",Ze.value),ia.value="",$e.value="",void w({page:1,size:20}).then((e=>{let a=e.data.rows;Ze.value=a.reverse(),localStorage.setItem("drawLogList",JSON.stringify(e.data.rows)),setTimeout((()=>ta()),100)}));ca(),$e.value?ra($e.value):ia.value&&ra(ia.value)}),3e3)};I((()=>{va.value&&clearTimeout(va.value),va.value=null,i.updateDrawId({id:""})})),k(0),k(!1),k(""),k(0),k([{name:"--q 质量化",sliderValue:0,id:0,max:100,type:"--q"},{name:"--s 风格化",sliderValue:0,id:1,max:1e3,type:"--s"},{name:"--c 多样化",sliderValue:0,id:2,max:100,type:"--c"}]),k(!1),k(0);const pa=k(0);setTimeout((()=>{pa.value=1}),0);const ma=k([]),ga=["jpg","jpeg","png"],fa=e=>{"pending"===e.file.status&&ba(e.file.file).then((e=>{let a="data:image/png;base64,"+e;ma.value.push(a)})),"removed"===e.file.status&&ba(e.file.file).then((e=>{let a="data:image/png;base64,"+e;ma.value=ma.value.filter((e=>e!==a))})),A.emit("base64Array",ma.value)},xa=e=>{const a=e.file.type.split("/")[1];return e.fileList.length>=5?(p.warning("最多只能上传5张图片"),!1):ga.includes(a)&&e.fileList.length<=5},ya=e=>{const a=e.file.name;O.value.extendParam=O.value.extendParam.filter((e=>!e.filename.includes(a))),ha()},ha=async()=>{V.updateMjDrawForm(O.value)},ka=e=>{K.value=e};function ba(e){return new Promise(((a,t)=>{const l=new FileReader;l.readAsDataURL(e),l.onload=function(){const e=l.result.split(",")[1];a(e)},l.onerror=function(){t(new Error("Failed to load file"))}}))}A.on("upLoadIsShow",(e=>{pa.value=e})),A.on("upLoadShow",(e=>{pa.value=e}));const Fa=k(!1);A.on("error",(e=>{Fa.value=e}));const wa=()=>{Fa.value=!1},Ia=()=>{Fa.value=!1,V.checkAuth()&&l.updateVipDialog(!0)},Aa=k(!1);A.emit("drawRoute",b.options.history.location);const La=k(""),Sa=k(""),ja=k(""),Ca=k(""),Da=k("");W({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{La.value=e.data.copyrightTitle,Sa.value=e.data.icpNumber,ja.value=e.data.policeFilingNumber,Ca.value=e.data.icpUrl,Da.value=e.data.policeFilingUrl})),k(!1),k(!1);const Ta=k(0),Ba=k("SQUARE");function Ea(e){Ta.value=e,0==e?Ba.value="SQUARE":1==e?Ba.value="PORTRAIT":2==e&&(Ba.value="LANDSCAPE"),A.emit("imageMixImageSize",Ba.value)}k("快图模式");const _a=k(0),za=k(1);function Na(e){0==e?za.value=1:1==e&&(za.value=2),A.emit("drawMode",za.value),_a.value=e}function Ra(){b.push("/serviceAgreement")}return k(1),k(1),(e,a)=>(P(),L(B,null,[Aa.value?(P(),L("div",{key:0,class:"mask",onClick:a[0]||(a[0]=e=>Aa.value=!1)})):S("",!0),j(s)?(P(),L("div",Q,[C(d)])):S("",!0),Fa.value?(P(),L("div",Z,[C(n,{onClosePop:wa,onBuyVip:Ia})])):S("",!0),j(s)?S("",!0):(P(),L("div",X,[j(s)?S("",!0):(P(),D(q,{key:0})),T("div",Y,[T("div",$,[T("div",ee,[T("div",ae,[T("div",te,[(P(!0),L(B,null,E(j(J),(e=>(P(),L("div",{class:_(Ye.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){b.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&A.emit("upLoadShow",1)}(e)},N(e.menuName),11,le)))),128))]),ie]),T("div",se,[oe,T("div",re,[T("div",ue,[T("div",null,[C(j(U),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":fa,"on-before-upload":xa,"on-remove":ya,"list-type":"image-card","directory-dnd":""})])])])]),T("div",de,[ne,T("div",ve,[T("div",ce,[T("div",{class:_([0==Ta.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[1]||(a[1]=e=>Ea(0))},[T("div",pe,[t.value?(P(),L("img",me)):(P(),L("img",ge))]),fe,xe],2),T("div",{class:_([1==Ta.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[2]||(a[2]=e=>Ea(1))},[T("div",ye,[t.value?(P(),L("img",he)):(P(),L("img",ke))]),be,Fe],2),T("div",{class:_([2==Ta.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[3]||(a[3]=e=>Ea(2))},[T("div",we,[t.value?(P(),L("img",Ie)):(P(),L("img",Ae))]),Le,Se],2)])])]),je,T("div",Ce,[T("div",De,[T("div",{class:"radioItem",onClick:a[4]||(a[4]=e=>Na(0))},[T("div",{class:_(["radioItemImgBox",0==_a.value?"dark:bg-[#2960BE] bg-[#3378ED]":"dark:bg-[#484A4D] bg-[#CECFD0]"])},Te,2),Be]),T("div",{class:"radioItem",style:{"margin-left":"12px"},onClick:a[5]||(a[5]=e=>Na(1))},[T("div",{class:_(["radioItemImgBox",1==_a.value?"dark:bg-[#2960BE] bg-[#3378ED]":"dark:bg-[#484A4D] bg-[#CECFD0]"])},Ee,2),_e])]),T("div",{style:{display:"flex","align-items":"center",cursor:"pointer"},onClick:Ra},ze)]),C(v,{sendType:1,onGetjobId:da,onResquestStatus:ka})]),T("div",Ne,[Re,0!=Ze.value.length||$e.value?(P(),L("div",{key:1,class:"drawList",ref_key:"toTop",ref:aa},[T("div",Ue,[C(o,{drawLogList:Ze.value,onNewJobId:oa},null,8,["drawLogList"])]),$e.value?(P(),D(r,{key:0,task:na.value,onRefresh:da},null,8,["task"])):S("",!0),ia.value?(P(),D(u,{key:1,task:na.value,onNewJob:oa},null,8,["task"])):S("",!0)],512)):(P(),L("div",Me,[0==ea.value&&H.value?(P(),L("div",Pe,Je)):S("",!0),0==ea.value&&H.value?S("",!0):(P(),D(c,{key:1}))])),T("div",Ve,[T("div",He,[z("版权所有 © "+N(La.value)+" ",1),Sa.value?(P(),L("div",Oe,[qe,T("a",{href:Ca.value||"#"},N(Sa.value),9,Ge)])):S("",!0),ja.value?(P(),L("div",We,[Ke,T("a",{href:Da.value||"#"},N(ja.value),9,Qe)])):S("",!0)])])])])])]))],64))}}),[["__scopeId","data-v-8034a390"]]);export{Ze as default};
