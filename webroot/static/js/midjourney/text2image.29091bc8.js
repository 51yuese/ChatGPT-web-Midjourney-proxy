import{d as e,e as a,c as t,y as l,o as i,i as s,j as n,M as d,a0 as u,a1 as v,G as r,C as o,D as c,H as m,aJ as g,b as p,g as x,u as f,V as y,aF as h,aO as k,aE as b,a4 as w,aP as F,aQ as A,l as I,h as S,n as C,k as B,F as E,r as L,a2 as j,w as z,m as _,aK as T,_ as D,aL as P,$ as M,Z as N,aR as V,aH as R,O as U,aM as J,aN as O,aC as H}from"../main-9f041486.js";import{_ as W}from"../draw-fail/draw-fail.8f549170.js";import{d as q,_ as G,a as K,b as Q,p as Z,N as $,c as X}from"../popup/popup.cf559ca1.js";import{_ as Y,a as ee}from"../1.1Light/1.1Light.a9718ff8.js";import{S as ae}from"../index/index.a184fda1.js";import{u as te}from"../index/index.e2d886a7.js";import"../createInspiration.vue_vue_type_script_setup_true_lang/createInspiration.vue_vue_type_script_setup_true_lang.3b396714.js";import"../police/police.b4a86fcd.js";import"../music/music.aabbafa0.js";const le="/static/svg/4.3-6838831b.svg",ie="/static/svg/4.3Light-c190a37f.svg",se=e=>(o("data-v-8c623d20"),e=e(),c(),e),ne={class:"imgSizeBox"},de={class:"imgBox"},ue={key:0,src:Y,alt:""},ve={key:1,src:ee,alt:""},re=se((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:1",-1))),oe=se((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"头像框",-1))),ce={class:"imgBox"},me={key:0,src:"/static/svg/1.2-d86ec2f3.svg",alt:""},ge={key:1,src:"/static/svg/1.2Light-ffd7b9e0.svg",alt:""},pe=se((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:2",-1))),xe=se((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"手机壁纸",-1))),fe={class:"imgBox"},ye={key:0,src:"/static/svg/16.9-914373b6.svg",alt:""},he={key:1,src:"/static/svg/16.9Light-61641613.svg",alt:""},ke=se((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"16:9",-1))),be=se((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"电脑壁纸",-1))),we={class:"imgBox"},Fe={key:0,src:"/static/svg/9.16-8968f21a.svg",alt:""},Ae={key:1,src:"/static/svg/9.16Light-92609f96.svg",alt:""},Ie=se((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"9:16",-1))),Se=se((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"宣传海报",-1))),Ce={class:"imgBox"},Be={key:0,src:le,alt:""},Ee={key:1,src:ie,alt:""},Le=se((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"4:3",-1))),je=se((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"文章配图",-1))),ze={class:"imgBox"},_e={key:0,src:"/static/svg/3.4-cbd71db4.svg",alt:""},Te={key:1,src:"/static/svg/3.4Light-11fadb4b.svg",alt:""},De=se((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:4",-1))),Pe=se((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"媒体配图",-1))),Me={class:"imgBox"},Ne={key:0,src:"/static/svg/3.2-5ec9169a.svg",alt:""},Ve={key:1,src:"/static/svg/3.2Light-3c6aac35.svg",alt:""},Re=se((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:2",-1))),Ue=se((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"横板名片",-1))),Je={class:"imgBox"},Oe={key:0,src:le,alt:""},He={key:1,src:ie,alt:""},We=se((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"2:3",-1))),qe=se((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"小红书图",-1))),Ge={class:"imgBox"},Ke={key:0,src:"/static/svg/zdy-024838ba.svg",alt:""},Qe={key:1,src:"/static/svg/zdyLight-3b894bed.svg",alt:""},Ze=se((()=>n("img",{class:"setSvg",src:"/static/svg/set-81682ae1.svg",alt:""},null,-1))),$e={style:{display:"flex","margin-top":"8px"}},Xe=se((()=>n("div",{style:{margin:"0 4px"}},":",-1))),Ye=se((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"自定义",-1))),ea=m(e({__name:"imgSize",setup(e){const o=a(),c=t((()=>"dark"===o.theme)),m=l(0),g=l(1),p=l(1),x=l("1:1");function f(e){m.value=e,0==e?x.value="1:1":1==e?x.value="1:2":2==e?x.value="16:9":3==e?x.value="9:16":4==e?x.value="4:3":5==e?x.value="3:4":6==e?x.value="3:2":7==e?x.value="2:3":8==e&&(x.value=g+":"+p),r.emit("sizeValue",x.value)}return(e,a)=>(i(),s("div",ne,[n("div",{class:d([0==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[0]||(a[0]=e=>f(0))},[n("div",de,[c.value?(i(),s("img",ue)):(i(),s("img",ve))]),re,oe],2),n("div",{class:d([1==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[1]||(a[1]=e=>f(1))},[n("div",ce,[c.value?(i(),s("img",me)):(i(),s("img",ge))]),pe,xe],2),n("div",{class:d([2==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[2]||(a[2]=e=>f(2))},[n("div",fe,[c.value?(i(),s("img",ye)):(i(),s("img",he))]),ke,be],2),n("div",{class:d([3==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[3]||(a[3]=e=>f(3))},[n("div",we,[c.value?(i(),s("img",Fe)):(i(),s("img",Ae))]),Ie,Se],2),n("div",{class:d([4==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[4]||(a[4]=e=>f(4))},[n("div",Ce,[c.value?(i(),s("img",Be)):(i(),s("img",Ee))]),Le,je],2),n("div",{class:d([5==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[5]||(a[5]=e=>f(5))},[n("div",ze,[c.value?(i(),s("img",_e)):(i(),s("img",Te))]),De,Pe],2),n("div",{class:d([6==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[6]||(a[6]=e=>f(6))},[n("div",Me,[c.value?(i(),s("img",Ne)):(i(),s("img",Ve))]),Re,Ue],2),n("div",{class:d([7==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[7]||(a[7]=e=>f(7))},[n("div",Je,[c.value?(i(),s("img",Oe)):(i(),s("img",He))]),We,qe],2),n("div",{class:d([8==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[10]||(a[10]=e=>f(8))},[n("div",Ge,[c.value?(i(),s("img",Ke)):(i(),s("img",Qe)),Ze]),n("div",$e,[u(n("input",{class:"sizeInp","onUpdate:modelValue":a[8]||(a[8]=e=>g.value=e),type:"text"},null,512),[[v,g.value]]),Xe,u(n("input",{class:"sizeInp","onUpdate:modelValue":a[9]||(a[9]=e=>p.value=e),type:"text"},null,512),[[v,p.value]])]),Ye],2)]))}}),[["__scopeId","data-v-8c623d20"]]),aa=e=>(o("data-v-53aa439f"),e=e(),c(),e),ta={key:1},la={key:2},ia={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},sa={style:{width:"100%"}},na={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%",overflow:"hidden"}},da={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},ua={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},va={style:{display:"flex","margin-top":"12px"}},ra=["onClick"],oa=aa((()=>n("div",{class:"MJBox dark:bg-[#202B3A] bg-[#fff]"},[n("div",{class:"intro dark:text-[#CAC5C5] text-[#808080]"}," 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 ")],-1))),ca={class:"crollBox",style:{"margin-top":"150px","padding-bottom":"300px","overflow-y":"scroll",height:"100%"}},ma={class:"modeBox"},ga=aa((()=>n("div",{class:"modeTitle"},[n("div",{style:{"font-size":"15px","font-weight":"500"}},"模型选择")],-1))),pa={class:"modePutExpand"},xa={class:"modeImg"},fa=[aa((()=>n("div",{class:"imgText"},[n("p",null,"Midjourney"),n("p",null,"真实感强")],-1))),aa((()=>n("img",{src:"/static/png/image 6-ee2e06ca.png",alt:""},null,-1)))],ya=[aa((()=>n("div",{class:"imgText"},[n("p",null,"Niji"),n("p",null,"卡通动漫")],-1))),aa((()=>n("img",{src:"/static/png/image 6 (1)-dee0c9b5.png",alt:""},null,-1)))],ha={key:0,class:"modeSelect"},ka=aa((()=>n("p",null,"版本",-1))),ba=["onClick"],wa={key:1,class:"modeSelect"},Fa=aa((()=>n("p",null,"版本",-1))),Aa=["onClick"],Ia={class:"styleMain"},Sa=aa((()=>n("div",{style:{display:"flex"}},[n("div",{style:{"font-size":"15px","font-weight":"500"}},"风格选择")],-1))),Ca={class:"modePutExpand"},Ba=["onClick"],Ea=["onClick"],La={class:"styleImgText"},ja=["src"],za=[aa((()=>n("img",{src:"/static/svg/Union-fd7f7f95.svg",alt:""},null,-1)))],_a={key:0,class:"padMapBox"},Ta={style:{display:"flex","justify-content":"space-between"}},Da={style:{display:"flex"}},Pa=aa((()=>n("div",{style:{"font-size":"15px","font-weight":"500"}},"垫图图片（0-3张）",-1))),Ma=aa((()=>n("div",null,[n("p",{class:"padMapText text-[#A3A5A6] dark:text-[#76777A]",style:{"margin-top":"16px"}}," 如需垫图请至少上传一张图片，图片总大小上限20M"),n("p",{class:"padMapText text-[#FF3B30] dark:text-[#FF5E55]",style:{"margin-top":"6px"}}," 严禁上传违规图(政治人物、色情、暴恐等)违者100%封号")],-1))),Na={class:"upLoadContent"},Va={class:"imgSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},Ra={style:{display:"flex","align-items":"center"}},Ua=aa((()=>n("div",{class:"similarText"},"-- iw 图片相似度",-1))),Ja=aa((()=>n("img",{src:W,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Oa=aa((()=>n("div",{style:{width:"280px"}},"--iw 值越高，上传的图像对最终效果的影响就越大",-1))),Ha=aa((()=>n("div",{style:{width:"2px",height:"10px","margin-right":"7px"},class:"dark:bg-[#484A4D] bg-[#D1D2D3]"},null,-1))),Wa={key:0,class:"selectItemList bg-[#48484E] text-[#fff]"},qa=["onClick"],Ga={key:1,class:"roleConsistent"},Ka={style:{display:"flex","justify-content":"space-between"}},Qa={style:{display:"flex"}},Za=aa((()=>n("div",{style:{"font-size":"15px","font-weight":"500"}},"角色一致性",-1))),$a=aa((()=>n("div",{class:"roleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--cref)请上传1张具有人脸的图片,图片大小上限为20M ",-1))),Xa={class:"upLoadContent"},Ya={class:"roleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},et={style:{display:"flex","align-items":"center"}},at=aa((()=>n("div",{class:"similarText"},"-- cw 角色一致性强度",-1))),tt=aa((()=>n("img",{src:W,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),lt=aa((()=>n("div",{style:{width:"280px"}},"强度为0时会专注面部一致，强度为100时会同时参考面部、头发和衣服。",-1))),it={style:{width:"102px"}},st={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},nt={key:2,class:"styleConsistent"},dt={style:{display:"flex","justify-content":"space-between"}},ut={style:{display:"flex"}},vt=aa((()=>n("div",{style:{"font-size":"15px","font-weight":"500"}},"风格一致性",-1))),rt=aa((()=>n("div",{class:"styleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--sref)请上传1-3张风格相似的图片,图片大小上限为20M ",-1))),ot={class:"upLoadContent"},ct={class:"styleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},mt={style:{display:"flex","align-items":"center"}},gt=aa((()=>n("div",{class:"similarText"},"-- cw 风格一致性强度",-1))),pt=aa((()=>n("img",{src:W,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),xt=aa((()=>n("div",{style:{width:"280px"}},"这个值越低生成的四张图风格越相似，反之差异越大",-1))),ft={style:{width:"102px"}},yt={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},ht={class:"imgSize"},kt={class:"notWant"},bt={style:{display:"flex"}},wt=aa((()=>n("div",{style:{"font-size":"15px","font-weight":"500"}},"不想出现的词",-1))),Ft={class:"parameterBox"},At={style:{display:"flex"}},It=aa((()=>n("div",{style:{"font-size":"15px","font-weight":"500"}},"高级参数",-1))),St={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Ct=aa((()=>n("div",null,"--seed 种子",-1))),Bt=aa((()=>n("div",{class:"parameterLine"},null,-1))),Et={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Lt=aa((()=>n("div",null,"--s 风格化",-1))),jt=aa((()=>n("img",{src:W,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),zt=aa((()=>n("div",{style:{width:"280px"}},"这个值越低会更符合 prompt 的描述,数值越高艺术性就会越强，但跟 prompt关联性就会比较弱",-1))),_t={style:{width:"120px"}},Tt={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},Dt={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Pt=aa((()=>n("div",null,"--c 多样性",-1))),Mt=aa((()=>n("img",{src:W,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Nt=aa((()=>n("div",{style:{width:"280px"}},"这个值越低生成的四张图风格越相似，反之差异越大",-1))),Vt={style:{width:"120px"}},Rt={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},Ut={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Jt=aa((()=>n("div",null,"--quality 质量",-1))),Ot=aa((()=>n("div",{class:"parameterLine"},null,-1))),Ht={style:{display:"flex",flex:"1","justify-content":"space-between",cursor:"pointer","align-items":"center"}},Wt={key:0,class:"selectItemList bg-[#48484E] text-[#fff]"},qt=["onClick"],Gt={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Kt=aa((()=>n("div",null,"--weird 奇妙",-1))),Qt=aa((()=>n("img",{src:W,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Zt=aa((()=>n("div",{style:{width:"280px"}},"生成的图像引入奇特和离奇的特质，从而产生独特而意想不到的结果",-1))),$t={style:{width:"110px"}},Xt={style:{width:"22px","margin-left":"10px",color:"#2960BE"}},Yt={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},el=aa((()=>n("div",null,"--stop 停止",-1))),al=aa((()=>n("img",{src:W,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),tl=aa((()=>n("div",{style:{width:"280px"}},'使用"--stop"参数可以在作业进行到对应的任务百分比时终止任务，比如50，在任务的50%进度时终止任务 ',-1))),ll={style:{width:"110px"}},il={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},sl={class:"userInfoBox dark:bg-[#15171A] bg-[#FFFFFF]"},nl={class:"userInfoAvatar"},dl=["src"],ul={class:"userInfoNicknmae",style:{"margin-left":"12px","font-weight":"bold","font-size":"17px"}},vl={class:"drawIntegral text-[#A3A5A6] dark:text-[#76777A]",style:{"margin-left":"12px"}},rl={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},ol=aa((()=>n("div",{class:"contentCenterTop border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[n("span",{class:"text-[#808080] dark:text-[#fff]"},"#  创作中心"),n("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),cl={key:0,class:"w-full",style:{padding:"0 0px",position:"relative","margin-top":"10px"}},ml={key:0,style:{height:"64vh",display:"flex","justify-content":"center","align-items":"center"}},gl=[aa((()=>n("div",{style:{width:"50px",height:"50px"}},[n("div",{class:"loader"})],-1)))],pl={key:1,class:"drawList"},xl={style:{"margin-top":"10px"}},fl={class:"bg-[#fff] dark:bg-[#15171A] newSendBox"},yl={key:0,class:"tipBox dark:bg-[#202B3A] bg-[#f9f9f9]"},hl={class:"tip dark:bg-[#202B3A] bg-[#f9f9f9]"},kl=aa((()=>n("p",null,"推荐关键词",-1))),bl={class:"itemBox"},wl=["onClick"],Fl={style:{"margin-right":"12px"}},Al=["src"],Il={style:{"font-size":"15px"}},Sl={style:{"font-size":"13px"}},Cl=m(e({__name:"text2image",setup(e){const a=g(),o=p(),{isMobile:c}=x(),m=l(),W=p(),Y=te(),ee=t((()=>Y.openRegionDialog)),le=t((()=>W.isLogin)),ie=t((()=>W.userInfo.avatar)),se=t((()=>W.userInfo.username)),ne=t((()=>W.userBalance)),de=t((()=>W.mjDrawForm)),ue=l(),ve=f(),re=l([]),oe=l(0);y(le,((e,a)=>{console.log("登陆状态变化了",e),e&&h({page:1,size:20}).then((e=>{let a=e.data.rows;re.value=a.reverse(),localStorage.setItem("drawLogList",JSON.stringify(a)),oe.value=1,setTimeout((()=>{ye()}),100)}))})),h({page:1,size:20}).then((e=>{let a=e.data.rows;re.value=a.reverse(),localStorage.setItem("drawLogList",JSON.stringify(a)),oe.value=1,setTimeout((()=>{ye()}),100)}));const ce=l([]);k({page:1,size:20}).then((e=>{ce.value=e.data.rows}));const me=l({status:0}),ge=async e=>{if(!e)return;const a=await J({jobIds:e});me.value=a.data;let t=a.data.filter((e=>e.status>=3)),l=a.data.filter((e=>6==e.status));if(t.length,0!=l.length){let e=l[0];return 9==e.action?Y.openRegionModal(!0,{customId:e.customId,taskId:e.id,mode:e.mode}):W.updateRemixModal(!0,{prompt:"",taskId:e.id,customId:e.customId}),void(Fe.value&&clearTimeout(Fe.value))}if(t.length==a.data.length)return Fe.value&&clearTimeout(Fe.value),void setTimeout((()=>fe()),100);Ae()};y((()=>ee.value),(e=>{e||setTimeout((()=>{ue.value?ge(ue.value):pe.value&&ge(pe.value)}),1e3)}));const pe=l(),xe=l(null),fe=()=>{let e=xe.value;e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},ye=()=>{let e=xe.value;e.scrollTop=e.scrollHeight},he=l([]),ke=async e=>{he.value=[...he.value,e],1==he.value.length?pe.value=he.value[0]:he.value.length>1&&(pe.value=he.value.join(",")),await ge(pe.value),setTimeout((()=>fe()),100)},be=l([]),we=async e=>{console.log("提交任务成功"),be.value=[...be.value,e],1==be.value.length?ue.value=be.value[0]:be.value.length>1&&(ue.value=be.value.join(",")),await ge(ue.value),setTimeout((()=>fe()),100)},Fe=l(),Ae=()=>{Fe.value&&clearTimeout(Fe.value),Fe.value=setTimeout((()=>{var e,a,t;if((null==(e=me.value)?void 0:e.status)===O.DRAWED||(null==(a=me.value)?void 0:a.status)===O.DRAWFAIL||(null==(t=me.value)?void 0:t.status)===O.DRAWTIMEOUT)return Fe.value&&clearTimeout(Fe.value),m.value=0,r.emit("status",m.value),re.value.push(me.value),r.emit("newDrawLogList",re.value),pe.value="",ue.value="",void h({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));Ae(),ue.value?ge(ue.value):pe.value&&ge(pe.value)}),3e3)};b((()=>{Fe.value&&clearTimeout(Fe.value),Fe.value=null,o.updateDrawId({id:""})}));const Ie=[{name:"V 6.0",intro:"全新6.0 ALPHA真实风格图像",id:0,value:" 6.0"},{name:"V 5.2",intro:"增加真实风格图像细节",id:1,value:" 5.2"},{name:"V 5.1",intro:"专注真实艺术风格图像",id:2,value:" 5.1"},{name:"V 5.0",intro:"增加真实风格图像细节",id:3,value:" 5"}],Se=[{name:"Niji 6",intro:"全新6.0 ALPHA真实风格图像",id:0,value:" 6"},{name:"Niji 5",intro:"增加真实风格图像细节",id:1,value:" 5"},{name:"Niji 4",intro:"专注真实艺术风格图像",id:2,value:" 4"}],Ce=l(0),Be=l(!0);function Ee(e){Ce.value=e.index,r.emit("--v",e.item.value),0!=e.item.id?Be.value=!1:Be.value=!0}const Le=l(!1);function je(e){Le.value=e,e||(ze.value="")}const ze=l("");l(0),l([{name:"--q 质量化",sliderValue:0,id:0,max:100,type:"--q"},{name:"--s 风格化",sliderValue:0,id:1,max:1e3,type:"--s"},{name:"--c 多样化",sliderValue:0,id:2,max:100,type:"--c"}]),l(!1),l(0);const _e=l([]),Te=["jpg","jpeg","png"],De=e=>{var a;"pending"===e.file.status&&(a=e.file.file,new Promise(((e,t)=>{const l=new FileReader;l.readAsDataURL(a),l.onload=function(){const a=l.result.split(",")[1];e(a)},l.onerror=function(){t(new Error("Failed to load file"))}}))).then((e=>{let a="data:image/png;base64,"+e;_e.value.push(a)})),"removed"===e.file.status&&(_e.value=[])},Pe=l("/api/upload/file"),Me=new FormData,Ne=new FormData,Ve=new FormData,Re=l([]),Ue=l([]),Je=l([]),Oe=async e=>{const a=e.file.type.split("/")[1],t=e.file.name.split(".")[0];if(e.fileList.length>=3)return ve.warning("最多只能上传3张图片"),!1;Me.append("file",e.file.file);const l=await H.post(Pe.value,Me,{headers:{"Content-Type":"multipart/form-data"}}).catch((e=>{ve.error(e.message)}));return Me.delete("file"),Re.value=[...Re.value,{url:l.data.data,name:t}],r.emit("pidImgList",Re.value),Te.includes(a)&&e.fileList.length<=3},He=e=>{const a=e.file.name,t=e.file.name.split(".")[0];de.value.extendParam=de.value.extendParam.filter((e=>!e.filename.includes(a))),Re.value=Re.value.filter((e=>e.name!=t)),r.emit("pidImgList",Re.value),Qe()},We=async e=>{const a=e.file.type.split("/")[1],t=e.file.name.split(".")[0];if(e.fileList.length>=1)return ve.warning("最多只能上传1张图片"),!1;Ne.append("file",e.file.file);const l=await H.post(Pe.value,Ne,{headers:{"Content-Type":"multipart/form-data"}});return Ne.delete("file"),Ue.value=[...Ue.value,{url:l.data.data,name:t}],console.log("角色",Ue.value),r.emit("roleImgList",Ue.value),Te.includes(a)&&e.fileList.length<=1},qe=e=>{const a=e.file.name,t=e.file.name.split(".")[0];de.value.extendParam=de.value.extendParam.filter((e=>!e.filename.includes(a))),Ue.value=Ue.value.filter((e=>e.name!=t)),r.emit("roleImgList",Ue.value),Qe()},Ge=async e=>{const a=e.file.type.split("/")[1],t=e.file.name.split(".")[0];if(e.fileList.length>=3)return ve.warning("最多只能上传3张图片"),!1;Ve.append("file",e.file.file);const l=await H.post(Pe.value,Ve,{headers:{"Content-Type":"multipart/form-data"}});return Ve.delete("file"),Je.value=[...Je.value,{url:l.data.data,name:t}],console.log("风格",Je.value),r.emit("styleImgList",Je.value),Te.includes(a)&&e.fileList.length<=3},Ke=e=>{const a=e.file.name,t=e.file.name.split(".")[0];Je.value=Je.value.filter((e=>e.name!=t)),r.emit("styleImgList",Je.value),de.value.extendParam=de.value.extendParam.filter((e=>!e.filename.includes(a))),Qe()},Qe=async()=>{W.updateMjDrawForm(de.value)};const Ze=l(!1);r.on("error",(e=>{Ze.value=e}));const $e=()=>{Ze.value=!1},Xe=()=>{Ze.value=!1,W.checkAuth()&&a.updateVipDialog(!0)},Ye=l(!1);r.emit("drawRoute",w.options.history.location);const aa=l("/midjourney/text-to-image");aa.value=w.currentRoute.value.fullPath;const Cl=l(0);function Bl(e){Cl.value=e,Ce.value=0,0==e?(r.emit("MjOrNj","--v"),r.emit("--v",Ie[0].value)):1==e&&(r.emit("MjOrNj","--niji"),r.emit("--v",Se[0].value))}const El=l(0),Ll=l(null),jl=l([]);F({page:1,size:20,type:"style"}).then((e=>{let a=e.data.filter((e=>2==e.level));jl.value=a,_l(jl.value[0].pid)}));const zl=l([]);function _l(e){A({id:e}).then((e=>{e.data.rows.length&&(zl.value=e.data.rows[0].children)}))}const Tl=e=>{m.value=e,1==e&&(Dl.value=0,Pl.value=0,Rl.value=0,Ul.value=0,Ol.value=100,Jl.value=0,ti.value="",r.emit("--cw",Dl.value),r.emit("--sw",Pl.value),r.emit("--s",Rl.value),r.emit("--c",Ul.value),r.emit("--weird",Jl.value),r.emit("--stop",Ol.value),r.emit("--no",ti.value))},Dl=l(0),Pl=l(0);function Ml(){r.emit("--cw",Dl.value)}function Nl(){r.emit("--sw",Pl.value)}const Vl=l(0),Rl=l(0),Ul=l(0),Jl=l(0),Ol=l(100);function Hl(){r.emit("--s",Rl.value)}function Wl(){r.emit("--c",Ul.value)}function ql(){r.emit("--weird",Jl.value)}function Gl(){r.emit("--stop",Ol.value)}l(!1),y((()=>ee.value),(e=>{e||handleQueryTaskByPage()}));const Kl=l(!1),Ql=l(!1),Zl=l(!1),$l=l(!1),Xl=l(!1),Yl=l(!1),ei=l(!1);function ai(e){0==e?Kl.value=!Kl.value:1==e?Ql.value=!Ql.value:2==e?Zl.value=!Zl.value:3==e?$l.value=!$l.value:4==e?Xl.value=!Xl.value:5==e?Yl.value=!Yl.value:6==e&&(ei.value=!ei.value)}const ti=l("");function li(){r.emit("--no",ti.value)}const ii=l(""),si=l([{name:"--iw 0.25 默认 相似度30%",id:0,value:.25,isSelect:!0},{name:"--iw 0.5 相似度40%",id:1,value:.5,isSelect:!1},{name:"--iw 1 相似度50%",id:2,value:1,isSelect:!1},{name:"--iw 1.25 相似度60%",id:3,value:1.25,isSelect:!1},{name:"--iw 1.5 相似度70%",id:4,value:1.5,isSelect:!1},{name:"--iw 1.75 相似度80%",id:5,value:1.75,isSelect:!1},{name:"--iw 2 相似度90%",id:6,value:2,isSelect:!1}]);ii.value=si.value[0].name;const ni=l(!1),di=l(!1);function ui(){di.value=!di.value}const vi=l([{name:"1x - 默认",id:0,isSelect:!0,value:1},{name:"0.25x",id:1,isSelect:!1,value:.25},{name:"0.5x",id:2,isSelect:!1,value:.5}]),ri=l("");function oi(){r.emit("--seed",Vl.value)}ri.value=vi.value[0].name;const ci=l();const mi=l(!1);function gi(){mi.value=!mi.value}const pi=l(!1);function xi(){Ye.value=!1,pi.value=!1}return r.on("isFocus",(e=>{pi.value=e})),(e,a)=>{var t;return i(),s(E,null,[Ye.value||pi.value?(i(),s("div",{key:0,class:"mask",onClick:xi})):I("",!0),S(c)?(i(),s("div",ta,[C(Q)])):I("",!0),Ze.value?(i(),s("div",la,[C(Z,{onClosePop:$e,onBuyVip:Xe})])):I("",!0),S(c)?I("",!0):(i(),s("div",ia,[S(c)?I("",!0):(i(),B(ae,{key:0})),n("div",sa,[n("div",na,[n("div",da,[n("div",ua,[n("div",va,[(i(!0),s(E,null,L(S(T),(e=>(i(),s("div",{class:d(aa.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){w.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&r.emit("upLoadShow",1)}(e)},_(e.menuName),11,ra)))),128))]),oa]),n("div",ca,[n("div",ma,[ga,n("div",pa,[n("div",xa,[n("div",{style:{"margin-right":"8px"},onClick:a[0]||(a[0]=e=>Bl(0)),class:d(0==Cl.value?"select":"unSelect")},fa,2),n("div",{onClick:a[1]||(a[1]=e=>Bl(1)),class:d(1==Cl.value?"select":"unSelect")},ya,2)]),0==Cl.value?(i(),s("div",ha,[ka,(i(),s(E,null,L(Ie,((e,a)=>n("div",{class:d(Ce.value==a?"modeItemSelect":"modeItem"),key:e.id,onClick:t=>Ee({item:e,index:a})},_(e.name),11,ba))),64))])):I("",!0),1==Cl.value?(i(),s("div",wa,[Fa,(i(),s(E,null,L(Se,((e,a)=>n("div",{class:d(Ce.value==a?"modeItemSelect":"modeItem"),key:e.id,onClick:t=>Ee({item:e,index:a})},_(e.name),11,Aa))),64))])):I("",!0)])]),n("div",Ia,[Sa,n("div",Ca,[n("div",{class:"styleBox",ref_key:"container",ref:Ll},[(i(!0),s(E,null,L(jl.value,((e,a)=>(i(),s("div",{class:d(El.value==a?"styleItemSelect":"styleItem"),onClick:e=>function(e){El.value=e,_l(jl.value[e].pid);let a=Ll.value;(30*e>=120||30*e<=150)&&a.scrollTo({left:20*e,behavior:"smooth"})}(a),key:e.id},_(e.classifyName),11,Ba)))),128))],512),n("div",{class:"styleImgBox",style:j(mi.value?"height: auto":"max-height:285px")},[(i(!0),s(E,null,L(zl.value,((e,a)=>(i(),s("div",{class:d(ci.value==a?"styleImgItemSelect":"styleImgItem"),onClick:t=>{return l={item:e,index:a},ci.value=l.index,void r.emit("styleWord",l.item.incantationEn);var l}},[n("div",La,_(e.incantationCn),1),n("img",{src:e.img,alt:""},null,8,ja)],10,Ea)))),256))],4),zl.value.length>9?(i(),s("div",{key:0,onClick:gi,class:"expand dark:bg-[#010102] bg-[#F4F4F4]"},za)):I("",!0)])]),Be.value?(i(),s("div",_a,[n("div",Ta,[n("div",Da,[n("div",{class:d(Zl.value?"putExpand":"putAway")},[C(S(D),{onClick:a[2]||(a[2]=e=>ai(2)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Pa])]),n("div",{class:d(Zl.value?"modePutExpand":"modePutAway")},[Ma,n("div",Na,[n("div",null,[C(S(P),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":De,"on-before-upload":Oe,"on-remove":He,"list-type":"image-card","directory-dnd":""})])]),n("div",Va,[n("div",Ra,[Ua,C(S(M),{trigger:"hover",placement:"top"},{trigger:z((()=>[Ja])),default:z((()=>[Oa])),_:1}),Ha,n("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",width:"145px"},onClick:a[3]||(a[3]=e=>{ni.value=!ni.value})},[n("div",null,_(ii.value),1),C(S(D),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})]),ni.value?(i(),s("div",Wa,[(i(!0),s(E,null,L(si.value,(e=>(i(),s("div",{class:d(e.isSelect?"similarSelect":"unSimilarSelect"),key:e.id,onClick:a=>function(e){si.value.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,ii.value=e.name,ni.value=!1,r.emit("--iw",e.value)}(e)},[N(_(e.name)+" ",1),e.isSelect?(i(),B(S(D),{key:0,icon:"dashicons:yes",class:"text-2xl"})):I("",!0)],10,qa)))),128))])):I("",!0)])])],2)])):I("",!0),Be.value?(i(),s("div",Ga,[n("div",Ka,[n("div",Qa,[n("div",{class:d($l.value?"putExpand":"putAway")},[C(S(D),{onClick:a[4]||(a[4]=e=>ai(3)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Za])]),n("div",{class:d($l.value?"modePutExpand":"modePutAway")},[$a,n("div",Xa,[n("div",null,[C(S(P),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":De,"on-before-upload":We,"on-remove":qe,"list-type":"image-card","directory-dnd":""})])]),n("div",Ya,[n("div",et,[at,C(S(M),{trigger:"hover",placement:"top"},{trigger:z((()=>[tt])),default:z((()=>[lt])),_:1}),n("div",it,[C(S(R),{vertical:""},{default:z((()=>[C(S(V),{value:Dl.value,"onUpdate:value":a[5]||(a[5]=e=>Dl.value=e),step:1,max:100,onDragend:Ml},null,8,["value"])])),_:1})]),n("div",st,_(Dl.value),1)])])],2)])):I("",!0),Be.value?(i(),s("div",nt,[n("div",dt,[n("div",ut,[n("div",{class:d(Xl.value?"putExpand":"putAway")},[C(S(D),{onClick:a[6]||(a[6]=e=>ai(4)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),vt])]),n("div",{class:d(Xl.value?"modePutExpand":"modePutAway")},[rt,n("div",ot,[n("div",null,[C(S(P),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":De,"on-before-upload":Ge,"on-remove":Ke,"list-type":"image-card","directory-dnd":""})])]),n("div",ct,[n("div",mt,[gt,C(S(M),{trigger:"hover",placement:"top"},{trigger:z((()=>[pt])),default:z((()=>[xt])),_:1}),n("div",ft,[C(S(R),{vertical:""},{default:z((()=>[C(S(V),{value:Pl.value,"onUpdate:value":a[7]||(a[7]=e=>Pl.value=e),step:1,max:100,onDragend:Nl},null,8,["value"])])),_:1})]),n("div",yt,_(Pl.value),1)])])],2)])):I("",!0),n("div",ht,[C(ea)]),n("div",kt,[n("div",bt,[n("div",{class:d(Yl.value?"putExpand":"putAway")},[C(S(D),{onClick:a[8]||(a[8]=e=>ai(5)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),wt]),n("div",{class:d(Yl.value?"modePutExpand":"modePutAway")},[u(n("textarea",{class:"notWantText bg-[#F4F4F4] dark:bg-[#010102] dark:text-[#7E7F82] text-[#878A8B]",name:"",id:"",cols:"30",rows:"3",maxlength:"200",placeholder:"请输入不想出现在图像中的内容（例如：树木， 0/200）",onInput:li,"onUpdate:modelValue":a[9]||(a[9]=e=>ti.value=e)},null,544),[[v,ti.value]])],2)]),n("div",Ft,[n("div",At,[n("div",{class:d(ei.value?"putExpand":"putAway")},[C(S(D),{onClick:a[10]||(a[10]=e=>ai(6)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),It]),n("div",{class:d(ei.value?"modePutExpand":"modePutAway")},[n("div",St,[Ct,Bt,u(n("input",{class:"dark:text-[#2960BE] text-[#3378ED]","onUpdate:modelValue":a[11]||(a[11]=e=>Vl.value=e),onInput:oi,type:"number"},null,544),[[v,Vl.value]])]),n("div",Et,[Lt,C(S(M),{trigger:"hover",placement:"top"},{trigger:z((()=>[jt])),default:z((()=>[zt])),_:1}),n("div",_t,[C(S(R),{vertical:""},{default:z((()=>[C(S(V),{value:Rl.value,"onUpdate:value":a[12]||(a[12]=e=>Rl.value=e),step:1,max:100,onDragend:Hl},null,8,["value"])])),_:1})]),n("div",Tt,_(Rl.value),1)]),n("div",Dt,[Pt,C(S(M),{trigger:"hover",placement:"top"},{trigger:z((()=>[Mt])),default:z((()=>[Nt])),_:1}),n("div",Vt,[C(S(R),{vertical:""},{default:z((()=>[C(S(V),{value:Ul.value,"onUpdate:value":a[13]||(a[13]=e=>Ul.value=e),step:1,max:100,onDragend:Wl},null,8,["value"])])),_:1})]),n("div",Rt,_(Ul.value),1)]),n("div",Ut,[Jt,Ot,n("div",Ht,[n("div",{style:{display:"flex","justify-content":"space-between",width:"100%"},onClick:ui},[n("div",null,_(ri.value),1),n("div",null,[C(S(D),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})])]),di.value?(i(),s("div",Wt,[(i(!0),s(E,null,L(vi.value,(e=>(i(),s("div",{class:d(e.isSelect?"similarSelect":"unSimilarSelect"),key:e.id,onClick:a=>function(e){vi.value.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,ri.value=e.name,di.value=!1,r.emit("--q",e.value)}(e)},[N(_(e.name)+" ",1),e.isSelect?(i(),B(S(D),{key:0,icon:"dashicons:yes",class:"text-2xl"})):I("",!0)],10,qt)))),128))])):I("",!0)])]),n("div",Gt,[Kt,C(S(M),{trigger:"hover",placement:"top"},{trigger:z((()=>[Qt])),default:z((()=>[Zt])),_:1}),n("div",$t,[C(S(R),{vertical:""},{default:z((()=>[C(S(V),{value:Jl.value,"onUpdate:value":a[14]||(a[14]=e=>Jl.value=e),step:1,max:100,onDragend:ql},null,8,["value"])])),_:1})]),n("div",Xt,_(Jl.value),1)]),n("div",Yt,[el,C(S(M),{trigger:"hover",placement:"top"},{trigger:z((()=>[al])),default:z((()=>[tl])),_:1}),n("div",ll,[C(S(R),{vertical:""},{default:z((()=>[C(S(V),{value:Ol.value,"onUpdate:value":a[15]||(a[15]=e=>Ol.value=e),step:1,max:100,min:10,onDragend:Gl},null,8,["value"])])),_:1})]),n("div",il,_(Ol.value),1)])],2)])]),n("div",sl,[n("div",nl,[n("img",{class:"avatar",src:ie.value?ie.value:S(U),alt:"",onClick:a[16]||(a[16]=e=>Ye.value=!0)},null,8,dl)]),n("div",null,[n("div",ul,_(se.value),1),n("div",vl," 绘画积分:"+_(null==(t=ne.value)?void 0:t.drawMjCount),1)])])]),n("div",rl,[ol,n("div",{style:{"overflow-y":"auto",position:"relative",flex:"1"},ref_key:"toTop",ref:xe},[0!=re.value.length||ue.value?I("",!0):(i(),s("div",cl,[0==oe.value&&le.value?(i(),s("div",ml,gl)):I("",!0),0==oe.value&&le.value?I("",!0):(i(),B(X,{key:1}))])),0!=re.value.length||ue.value?(i(),s("div",pl,[n("div",xl,[C(q,{drawLogList:re.value,onNewJobId:ke},null,8,["drawLogList"])]),ue.value?(i(),B(G,{key:0,task:me.value,onRefresh:we},null,8,["task"])):I("",!0),pe.value?(i(),B(K,{key:1,task:me.value,onNewJob:ke},null,8,["task"])):I("",!0)])):I("",!0)],512),n("div",fl,[pi.value?(i(),s("div",yl,[n("div",hl,[kl,C(S(D),{onClick:a[17]||(a[17]=e=>pi.value=!1),style:{cursor:"pointer"},icon:"mdi:close-circle",class:"text-2xl"})]),n("div",bl,[(i(!0),s(E,null,L(ce.value,(e=>(i(),s("div",{class:"tipItem",key:e.id,onClick:a=>function(e){pi.value=!1,r.emit("suggestEn",e.suggestEn)}(e)},[n("div",Fl,[n("img",{style:{width:"40px",height:"40px","border-radius":"50%"},src:e.image,alt:""},null,8,Al)]),n("div",null,[n("p",Il,_(e.suggestCn),1),n("p",Sl,_(e.suggestEn),1)])],8,wl)))),128))])])):I("",!0),C($,{sendType:0,onIsSettingShow:je,onGetjobId:we,onResquestStatus:Tl})])])])])]))],64)}}}),[["__scopeId","data-v-53aa439f"]]);export{Cl as default};
